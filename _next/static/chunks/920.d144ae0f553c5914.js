"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{2920:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var i=n(5893),o=n(7294),a=n(9477),s=n(9365),r=n(1217),l=n(5032),c=n(9741);let d=()=>{let e=(0,o.useRef)(),[t,n]=(0,o.useState)(!0),d=(0,o.useRef)(),h=(0,o.useCallback)(()=>{let{current:t}=d,{current:n}=e;if(n&&t){let i=n.clientWidth,o=n.clientHeight;t.setSize(i,o)}},[]);return(0,o.useEffect)(()=>{let{current:t}=e;if(t){let i=t.clientWidth,o=t.clientHeight,c=new a.CP7({antialias:!0,alpha:!0});c.setPixelRatio(window.devicePixelRatio),c.setSize(i,o),c.outputEncoding=a.knz,t.appendChild(c.domElement),d.current=c;let h=new a.xsS,u=new a.Pa4(-.5,10,0),w=new a.Pa4(20*Math.sin(.2*Math.PI),20,20*Math.cos(.2*Math.PI)),f=.05*o-6,p=new a.iKG(-f,f,f,-f,.05);p.position.copy(w),p.lookAt(u);let m=new a.Mig(13421772,1);h.add(m);let v=new s.z(p,c.domElement);v.autoRotate=!0,v.autoRotateSpeed=5,v.enableZoom=!1,v.target=u,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{receiveShadow:!0,castShadow:!0},{receiveShadow:i,castShadow:o}=n;return new Promise((n,a)=>{let s=new r.E;s.load(t,t=>{let a=t.scene;a.name="totoro",a.position.y=0,a.position.x=0,a.receiveShadow=i,a.castShadow=o,e.add(a),a.traverse(function(e){e.isMesh&&(e.castShadow=o,e.receiveShadow=i)}),n(a)},void 0,function(e){a(e)})})})(h,"".concat(l.O,"/Totoro.glb"),{receiveShadow:!1,castShadow:!1}).then(()=>{E(),n(!1)});let M=null,S=0,E=()=>{if(M=requestAnimationFrame(E),(S=S<=100?S+1:S)<=100){let e=-Math.sqrt(1-Math.pow(S/120-1,4))*Math.PI*20;p.position.y=10,p.position.x=w.x*Math.cos(e)+w.z*Math.sin(e),p.position.z=w.z*Math.cos(e)-w.x*Math.sin(e),p.lookAt(u)}else v.update();c.render(h,p)};return()=>{cancelAnimationFrame(M),c.domElement.remove(),c.dispose()}}},[]),(0,o.useEffect)(()=>(window.addEventListener("resize",h,!1),()=>{window.removeEventListener("resize",h,!1)}),[h]),(0,i.jsx)(c.dl,{ref:e,children:t&&(0,i.jsx)(c.dT,{})})};var h=d}}]);