"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[920],{2920:function(e,t,n){n.r(t),n.d(t,{default:function(){return u}});var o=n(5893),i=n(7294),a=n(9477),s=n(9365),r=n(1217),c=n(2854),d=n(5032),l=n(9741);let h=()=>{let e=(0,i.useRef)(),[t,n]=(0,i.useState)(!0),h=(0,i.useRef)(),u=(0,i.useCallback)(()=>{let{current:t}=h,{current:n}=e;if(n&&t){let o=n.clientWidth,i=n.clientHeight;t.setSize(o,i)}},[]);return(0,i.useEffect)(()=>{let{current:t}=e;if(t){let o=t.clientWidth,i=t.clientHeight,l=new a.CP7({antialias:!0,alpha:!0});l.setPixelRatio(window.devicePixelRatio),l.setSize(o,i),l.outputEncoding=a.knz,t.appendChild(l.domElement),h.current=l;let u=new a.xsS,w=new a.Pa4(-.5,10,0),p=new a.Pa4(20*Math.sin(.2*Math.PI),20,20*Math.cos(.2*Math.PI)),f=.05*i-6,m=new a.iKG(-f,f,f,-f,.05);m.position.copy(p),m.lookAt(w);let v=new a.Mig(13421772,1);u.add(v);let M=new s.z(m,l.domElement);M.autoRotate=!0,M.autoRotateSpeed=5,M.enableZoom=!1,M.target=w,(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{receiveShadow:!0,castShadow:!0},{receiveShadow:o,castShadow:i}=n;return new Promise((n,a)=>{let s=new r.E,d=new c._;d.setDecoderConfig({type:"js"}),d.setDecoderPath("https://www.gstatic.com/draco/v1/decoders/"),s.setDRACOLoader(d),s.load(t,t=>{let a=t.scene;a.name="totoro",a.position.y=0,a.position.x=0,a.receiveShadow=o,a.castShadow=i,e.add(a),a.traverse(function(e){e.isMesh&&(e.castShadow=i,e.receiveShadow=o)}),n(a)},void 0,function(e){a(e)})})})(u,"".concat(d.O,"/Totoro.glb"),{receiveShadow:!1,castShadow:!1}).then(()=>{P(),n(!1)});let S=null,E=0,P=()=>{if(S=requestAnimationFrame(P),(E=E<=100?E+1:E)<=100){let e=-Math.sqrt(1-Math.pow(E/120-1,4))*Math.PI*20;m.position.y=10,m.position.x=p.x*Math.cos(e)+p.z*Math.sin(e),m.position.z=p.z*Math.cos(e)-p.x*Math.sin(e),m.lookAt(w)}else M.update();l.render(u,m)};return()=>{cancelAnimationFrame(S),l.domElement.remove(),l.dispose()}}},[]),(0,i.useEffect)(()=>(window.addEventListener("resize",u,!1),()=>{window.removeEventListener("resize",u,!1)}),[u]),(0,o.jsx)(l.dl,{ref:e,children:t&&(0,o.jsx)(l.dT,{})})};var u=h}}]);